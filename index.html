<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>RITMO INSTRUMENTOS - Loja de Pandeiros</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="https://npmcdn.com/parse/dist/parse.min.js"></script>
</head>

<body>
  <h1>RITMO INSTRUMENTOS - Loja de Pandeiros</h1>   

  <label for="wood">Escolha o tipo de madeira:</label>
  <select id="wood">
    <option value="Imbuia">Imbuia</option>
    <option value="Cedro">Cedro</option>
  </select>

  <label for="jingles">Escolha o número de platinelas:</label>
  <select id="jingles">
    <option value="5">5</option>
    <option value="6">6</option>
  </select>

  <label for="head">Escolha o material do tambor:</label>
  <select id="head">
    <option value="Nylon">Nylon</option>
    <option value="Couro">Couro</option>
  </select>

  <label for="price">Preço:</label>
  <input id="price" type="number" placeholder="Preço"/>

  <label for="orderDate">Data de Recebimento do Pedido:</label>
  <input id="orderDate" type="date"/>

  <label for="deliveryDate">Data de Previsão de Entrega:</label>
  <input id="deliveryDate" type="date"/>

  <button id="submitOrderButton">Enviar Pedido</button>

  <script>
    async function submitOrder() {
      let Order = Parse.Object.extend("Order");
      let order = new Order();

      order.set("wood", document.getElementById("wood").value);
      order.set("jingles", parseInt(document.getElementById("jingles").value));
      order.set("head", document.getElementById("head").value);
      order.set("price", parseFloat(document.getElementById("price").value));
      order.set("orderDate", new Date(document.getElementById("orderDate").value));
      order.set("deliveryDate", new Date(document.getElementById("deliveryDate").value));

      try {
        order = await order.save();
        if (order !== null) {
          alert(`Pedido enviado com sucesso! ID do Pedido: ${order.id}`);
        }
      } catch (error) {
        alert(`Erro ao enviar pedido: ${error.message}`);
      }
    }

    document.getElementById("submitOrderButton").addEventListener("click", async function () {
      submitOrder();
    });
  </script>
</body>

</html>
